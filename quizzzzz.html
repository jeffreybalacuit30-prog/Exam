<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sample Exam Quiz - Metro Dumaguete College</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .question { margin-bottom: 20px; }
        .personal-info { margin-bottom: 20px; }
        .quiz { display: none; }
        .result { margin-top: 20px; font-weight: bold; }
    </style>
</head>
<body>
    <h1>Metro Dumaguete College</h1>
    <h2>Sample Exam Quiz</h2>

    <div id="personalForm" class="personal-info">
        <p>Please fill in your details before starting the quiz:</p>
        <form id="infoForm">
            <label for="name">Name:</label>
            <input type="text" id="name" required><br><br>
            <label for="age">Age:</label>
            <input type="number" id="age" required><br><br>
            <label for="gender">Gender:</label>
            <select id="gender" required>
                <option value="">Select</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Other">Other</option>
            </select><br><br>
            <label for="course">Course:</label>
            <input type="text" id="course" required><br><br>
            <label for="schoolYear">School Year:</label>
            <input type="text" id="schoolYear" required><br><br>
            <button type="button" onclick="startQuiz()">Start Quiz</button>
        </form>
    </div>

    <div id="quizSection" class="quiz">
        <p>Answer the 10 questions below. Once you select an answer for a question, you cannot change it. Click "Check Answers" to see your score and the correct answers on a new page.</p>

        <form id="quizForm">
            <div class="question">
                <p>1. What is 2 + 2?</p>
                <input type="radio" name="q1" value="4"> 4<br>
                <input type="radio" name="q1" value="5"> 5<br>
                <input type="radio" name="q1" value="6"> 6
            </div>
            <div class="question">
                <p>2. What is the capital of France?</p>
                <input type="radio" name="q2" value="Paris"> Paris<br>
                <input type="radio" name="q2" value="London"> London<br>
                <input type="radio" name="q2" value="Berlin"> Berlin
            </div>
            <div class="question">
                <p>3. What is 10 * 5?</p>
                <input type="radio" name="q3" value="50"> 50<br>
                <input type="radio" name="q3" value="55"> 55<br>
                <input type="radio" name="q3" value="60"> 60
            </div>
            <div class="question">
                <p>4. Which planet is known as the Red Planet?</p>
                <input type="radio" name="q4" value="Mars"> Mars<br>
                <input type="radio" name="q4" value="Venus"> Venus<br>
                <input type="radio" name="q4" value="Jupiter"> Jupiter
            </div>
            <div class="question">
                <p>5. What is the square root of 16?</p>
                <input type="radio" name="q5" value="4"> 4<br>
                <input type="radio" name="q5" value="5"> 5<br>
                <input type="radio" name="q5" value="6"> 6
            </div>
            <div class="question">
                <p>6. Who wrote 'Romeo and Juliet'?</p>
                <input type="radio" name="q6" value="Shakespeare"> Shakespeare<br>
                <input type="radio" name="q6" value="Dickens"> Dickens<br>
                <input type="radio" name="q6" value="Hemingway"> Hemingway
            </div>
            <div class="question">
                <p>7. What is 100 / 4?</p>
                <input type="radio" name="q7" value="25"> 25<br>
                <input type="radio" name="q7" value="20"> 20<br>
                <input type="radio" name="q7" value="30"> 30
            </div>
            <div class="question">
                <p>8. Which ocean is the largest?</p>
                <input type="radio" name="q8" value="Pacific"> Pacific<br>
                <input type="radio" name="q8" value="Atlantic"> Atlantic<br>
                <input type="radio" name="q8" value="Indian"> Indian
            </div>
            <div class="question">
                <p>9. What is 7 + 8?</p>
                <input type="radio" name="q9" value="15"> 15<br>
                <input type="radio" name="q9" value="16"> 16<br>
                <input type="radio" name="q9" value="17"> 17
            </div>
            <div class="question">
                <p>10. What is the chemical symbol for water?</p>
                <input type="radio" name="q10" value="H2O"> H2O<br>
                <input type="radio" name="q10" value="CO2"> CO2<br>
                <input type="radio" name="q10" value="O2"> O2
            </div>
            <button type="button" onclick="checkAnswers()">Check Answers</button>
        </form>
    </div>

    <script>
        let userInfo = {};

        function startQuiz() {
            const name = document.getElementById('name').value.trim();
            const age = document.getElementById('age').value.trim();
            const gender = document.getElementById('gender').value;
            const course = document.getElementById('course').value.trim();
            const schoolYear = document.getElementById('schoolYear').value.trim();

            if (!name || !age || !gender || !course || !schoolYear) {
                alert('Please fill in all fields.');
                return;
            }

            userInfo = { name, age, gender, course, schoolYear };

            document.getElementById('personalForm').style.display = 'none';
            document.getElementById('quizSection').style.display = 'block';
        }

        // Disable radio buttons after selection
        const radios = document.querySelectorAll('input[type="radio"]');
        radios.forEach(radio => {
            radio.addEventListener('change', function() {
                const group = document.querySelectorAll(`input[name="${this.name}"]`);
                group.forEach(r => r.disabled = true);
            });
        });

        function checkAnswers() {
            const answers = {
                q1: '4',
                q2: 'Paris',
                q3: '50',
                q4: 'Mars',
                q5: '4',
                q6: 'Shakespeare',
                q7: '25',
                q8: 'Pacific',
                q9: '15',
                q10: 'H2O'
            };
            let score = 0;

            for (let i = 1; i <= 10; i++) {
                const selected = document.querySelector(`input[name="q${i}"]:checked`);
                if (selected && selected.value === answers[`q${i}`]) {
                    score++;
                }
            }

            // Build the correct answers list
            let correctAnswersList = '';
            for (let i = 1; i <= 10; i++) {
                correctAnswersList += `<p>${i}. ${answers[`q${i}`]}</p>`;
            }

            // Prepare data for admin
            const adminData = `
Name: ${userInfo.name}
Age: ${userInfo.age}
Gender: ${userInfo.gender}
Course: ${userInfo.course}
School Year: ${userInfo.schoolYear}
Score: ${score} out of 10
            `;

            // Open a new window and write the content
            const newWindow = window.open('', '_blank');
            if (newWindow) {
                newWindow.document.write(`
                    <!DOCTYPE html>
                    <html lang="en">
                    <head>
                        <meta charset="UTF-8">
                        <meta name="viewport" content="width=device-width, initial-scale=1.0">
                        <title>Quiz Results</title>
                        <style>
                            body { font-family: Arial, sans-serif; margin: 20px; }
                            .result { margin-top: 20px; font-weight: bold; }
                        </style>
                    </head>
                    <body>
                        <h1>Quiz Results</h1>
                        <div class="result">
                            <p>You got ${score} out of 10 correct.</p>
                            <h2>Correct Answers:</h2>
                            ${correctAnswersList}
                            <h2>Send to Admin</h2>
                            <p>As the admin, you can gather this data. Click below to email it (or copy the text below):</p>
                            <textarea readonly style="width: 100%; height: 150px;">${adminData}</textarea><br><br>
                            <a href="mailto:jeffreybalacuit30@gmail.com?subject=Quiz Submission&body=${encodeURIComponent(adminData)}" target="_blank">Email to Admin</a>
                        </div>
                    </body>
                    </html>
                `);
                newWindow.document.close();
            } else {
                alert('Please allow popups for this site to view results.');
            }
        }
    </script>
</body>
</html>